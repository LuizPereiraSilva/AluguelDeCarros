package Dados;

import Negocio.Basico.Cliente;
import Negocio.Basico.Reserva;

import java.util.ArrayList;
import java.util.List;

public class ReservaRepositorio {

    private List<Reserva> reservas;

    public ReservaRepositorio() {
        this.reservas = new ArrayList<>();
    }
    public void adicionarReserva(Reserva reserva) {
        reservas.add(reserva);
        System.out.println("Reserva adicionada com sucesso!");
    }
    public void remover(Cliente cliente) {
        boolean encontrada = false;
        for (int i = 0; i < reservas.size(); i++) {
            if (reservas.get(i).getCliente().equals(cliente)) {
                reservas.remove(i);
                System.out.println("Reserva do cliente '" + reservas.get(i).getCliente().getNome() + "' removida com sucesso.");
                encontrada = true;
                break;
            }
        }
        if (!encontrada) {
            System.out.println("Reserva do cliente '" + cliente + " não encontrada.");
        }
    }
    public Reserva buscar(Cliente cliente) {
        for (Reserva reserva : reservas) {
            if (reserva.getCliente().equals(cliente)) {
                return reserva;
            }
        }
        System.out.println("Reservas do cliente '" + cliente + "' não encontrada.");
        return null;
    }
    public void atualizar(Reserva reservaAtualizada) {
        boolean encontrada = false;
        for (int i = 0; i < reservas.size(); i++) {
            if (reservas.get(i).getCliente().equals(reservaAtualizada.getCliente())) {
                reservas.set(i, reservaAtualizada);
                System.out.println("Reserva do cliente '" + reservaAtualizada.getCliente() + "' atualizada com sucesso.");
                encontrada = true;
                break;
            }
        }
        if (!encontrada) {
            System.out.println("Reserva do cliente '" + reservaAtualizada.getCliente() + "' não encontrada.");
        }
    }
    public void listarReservas() {
        if (reservas.isEmpty()) {
            System.out.println("Nenhuma reserva cadastrada.");
        } else {
            System.out.println("Lista de Reservas:");
            for (Reserva reserva : reservas) {
                System.out.println("Carro: " + reserva.getCarro() + ", Cliente: " + reserva.getCliente() +
                        ", Data Início: " + reserva.getDatainicio() +
                        ", Data Final: " + reserva.getDatafinal() +
                        ", Preço: R$" + reserva.getCarro().getPreco() +
                        ", Forma de Pagamento: " + reserva.getFormapagamento() +
                        ", Status do Pagamento: " + reserva.getPagamento());
            }
        }
    }
}
        
